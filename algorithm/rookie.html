<script>
  let arr = [8, 11, 4, 1, 3, 2, 1, 9, 6, 10]

  // function bubble(arr) {
  //   const len = arr.length
  //   for (let o = len; o > 1; o--) {
  //     for (let i = 0; i < o - 1; i++) {
  //       if (arr[i] > arr[i + 1]) {
  //         ;[arr[i], arr[i + 1]] = [arr[i + 1], arr[i]]
  //       }
  //     }
  //   }
  //   return arr
  // }
  // console.log(bubble(arr))

  // function insert(arr) {
  //   // 默认arr[0]是有序的
  //   for (let i = 1; i < arr.length; i++) {
  //     for (let j = i; j > 0; j--) {
  //       if (arr[j] < arr[j - 1]) {
  //         ;[arr[j - 1], arr[j]] = [arr[j], arr[j - 1]]
  //       } else {
  //         break
  //       }
  //     }
  //   }
  //   return arr
  // }
  // console.log(insert(arr))

  // function quick(arr) {
  //   if (arr.length <= 1) {
  //     return arr
  //   }
  //   let left = [],
  //     right = [],
  //     flag = arr.shift()

  //   for (let i = 0; i < arr.length; i++) {
  //     if (arr[i] < flag) {
  //       left.push(arr[i])
  //     } else {
  //       right.push(arr[i])
  //     }
  //   }
  //   return quick(left).concat(flag, quick(right))
  // }
  // console.log(quick(arr))

  function quick2(arr, low = 0, high = arr.length - 1) {
    if (low >= high) {
      return
    }
    let left = low,
      right = high,
      flag = arr[left]

    while (left < right) {
      // 从右边尝试找比flag小的，比flag大，right左移
      if (left < right && flag <= arr[right]) {
        right--
      }
      arr[left] = arr[right]
      if (left < right && flag >= arr[left]) {
        left++
      }
      arr[right] = arr[left]
    }
    arr[left] = flag
    quick2(arr, low, left - 1)
    quick2(arr, left + 1, high)
    return arr
  }
  console.log(quick2(arr))
</script>
